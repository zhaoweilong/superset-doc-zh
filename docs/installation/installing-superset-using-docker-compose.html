<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-installation/installing-superset-using-docker-compose">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">使用Docker Compose安装本地安装 | Superset</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zhaoweilong.github.io/superset-doc-zh/docs/installation/installing-superset-using-docker-compose"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="使用Docker Compose安装本地安装 | Superset"><meta data-rh="true" name="description" content="使用Docker Compose安装本地安装Superset"><meta data-rh="true" property="og:description" content="使用Docker Compose安装本地安装Superset"><link data-rh="true" rel="icon" href="/superset-doc-zh/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zhaoweilong.github.io/superset-doc-zh/docs/installation/installing-superset-using-docker-compose"><link data-rh="true" rel="alternate" href="https://zhaoweilong.github.io/superset-doc-zh/docs/installation/installing-superset-using-docker-compose" hreflang="en"><link data-rh="true" rel="alternate" href="https://zhaoweilong.github.io/superset-doc-zh/zh-Hans/docs/installation/installing-superset-using-docker-compose" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://zhaoweilong.github.io/superset-doc-zh/docs/installation/installing-superset-using-docker-compose" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WR5FASX5ED-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/superset-doc-zh/blog/rss.xml" title="Superset RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/superset-doc-zh/blog/atom.xml" title="Superset Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-133LHD3B3N","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-133LHD3B3N"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-133LHD3B3N",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Superset" href="/superset-doc-zh/opensearch.xml"><link rel="stylesheet" href="/superset-doc-zh/assets/css/styles.912a8a13.css">
<link rel="preload" href="/superset-doc-zh/assets/js/runtime~main.2e4e129b.js" as="script">
<link rel="preload" href="/superset-doc-zh/assets/js/main.679cc3d0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/superset-doc-zh/"><div class="navbar__logo"><img src="/superset-doc-zh/img/superset-logo-horiz.svg" alt="Superset Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/superset-doc-zh/img/superset-logo-horiz-dark.svg" alt="Superset Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">文档</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/superset-doc-zh/docs/intro">快速上手</a></li><li><a class="dropdown__link" href="/superset-doc-zh/docs/intro">教程</a></li><li><a class="dropdown__link" href="/superset-doc-zh/docs/frequently-asked-questions">常见问题</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">社区</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/superset-doc-zh/community">Resources</a></li><li><a href="https://github.com/apache/superset" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://join.slack.com/t/apache-superset/shared_invite/zt-16jvzmoi8-sI7jKWp~xc2zYRe~NqiY9Q" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://lists.apache.org/list.html?dev@superset.apache.org" target="_blank" rel="noopener noreferrer" class="dropdown__link">Mailing List<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://stackoverflow.com/questions/tagged/superset+apache-superset" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stack Overflow<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/superset-doc-zh/blog">本站教程</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/zhaoweilong/superset-doc-zh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" class="github-logo-container"></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/superset-doc-zh/docs/intro">简介</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/superset-doc-zh/docs/installation/installing-superset-using-docker-compose">安装和配置</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/superset-doc-zh/docs/installation/installing-superset-using-docker-compose">使用Docker Compose安装本地安装</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/installing-superset-from-scratch">Installing From Scratch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/configuring-superset">Configuring Superset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/networking-settings">Additional Networking Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/cache">Caching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/event-logging">Event Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/upgrading-superset">Upgrading Superset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/async-queries-celery">Async Queries via Celery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/alerts-reports">Alerts and Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/sql-templating">SQL Templating</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/superset-doc-zh/docs/installation/running-on-kubernetes">Running on Kubernetes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/superset-doc-zh/docs/databases/installing-database-drivers">连接数据库</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/superset-doc-zh/docs/creating-charts-dashboards/creating-your-first-dashboard">创建图标和仪表盘</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/superset-doc-zh/docs/miscellaneous/country-map-tools">其他</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/superset-doc-zh/docs/contributing/contributing-page">贡献</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/superset-doc-zh/docs/frequently-asked-questions">常见问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/superset-doc-zh/docs/api">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/superset-doc-zh/docs/security">安全</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/superset-doc-zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">安装和配置</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">使用Docker Compose安装本地安装</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用docker-compose安装本地安装superset">使用Docker Compose安装本地安装Superset<a class="hash-link" href="#使用docker-compose安装本地安装superset" title="标题的直接链接">​</a></h2><p>在本地最快的尝试Superset方式是在一个Linux或者Mac系统的电脑上使用Docker和Docker Compose。Superset对Windows没有官方支持，所以我们提供了一个通过使用虚拟机的变通方式。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-安装docker引擎和docker-compose">1. 安装Docker引擎和Docker Compose<a class="hash-link" href="#1-安装docker引擎和docker-compose" title="标题的直接链接">​</a></h3><p><strong>Mac OSX</strong></p><p><a href="https://docs.docker.com/docker-for-mac/install/" target="_blank" rel="noopener noreferrer">Mac安装Docker</a>, 它包括开箱即用的Docker引擎和最新版本的Docker Compose.
当你在Mac上安装Docker后，打开docker的偏好设置，进入到资源区域，把分配内存增加到6GB。当默认分配2GB内存时，Superset将会启动失败。</p><p><strong>Linux</strong></p><p>通过使用适合你的系统的Docker的使用说明来<a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer">在Linux上安装Docker</a>.因为<code>docker-compose</code> 你不是在Linux上安装docker的一部分, 当你有了一个能运行的引擎, 使用Linux的<a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">docker-compose 安装说明</a>来安装一下docker-compose.</p><p><strong>Windows</strong></p><p>不幸的是，Superset不支持在Windows上安装。对于想本地安装Superest的Windows用户可以通过<a href="https://www.virtualbox.org/" target="_blank" rel="noopener noreferrer">VirtualBox</a>安装一个Ubuntu桌面版的系统，在这个虚拟机上使用linux架构来启动docker。
我们建议至少分配8GB内存和至少40G的硬盘存储给这个虚拟机，以便于有足够的空间给操作系统和Superset的依赖使用。最近通过增加Windows子系统来支持Linux(WSL)2的<a href="https://www.virtualbox.org/" target="_blank" rel="noopener noreferrer">Docker Desktop</a>，也可能是另一个选择。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-克隆superset的github仓库">2. 克隆Superset的GitHub仓库<a class="hash-link" href="#2-克隆superset的github仓库" title="标题的直接链接">​</a></h3><p>在您的终端通过使用下面的命令行来拷贝<a href="https://github.com/apache/superset" target="_blank" rel="noopener noreferrer">Superset仓库</a></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/apache/superset.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当上述命令成功完成后，你会在当前的文件夹下看到新创建的superst文件夹。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-使用docker-compose启动superset">3. 使用Docker Compose启动Superset<a class="hash-link" href="#3-使用docker-compose启动superset" title="标题的直接链接">​</a></h3><p>进入到在上一步创建的的文件夹里:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> superset</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当你使用master分支时, 运行下面的命令:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -f docker-compose-non-dev.yml pull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -f docker-compose-non-dev.yml up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>或者，你可以通过使用签出的分支标签来运行指定版本的Superset. 然后使用TAG变量运行docker compose。例如，想要运行1.4.0版本，执行下面的命令：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout </span><span class="token number" style="color:#36acaa">1.4</span><span class="token plain">.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TAG</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1.4</span><span class="token plain">.0 </span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -f docker-compose-non-dev.yml pull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TAG</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1.4</span><span class="token plain">.0 </span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -f docker-compose-non-dev.yml up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当容器在你的机器上启动时，你可以看到大量的日志输出。当日志输出减少，在你的本地机器上会运行一个Superset实例。</p><p><strong>注意:</strong> 这将会使Superset处于非开发模式, 修改代码库将不会实时反应出来.如果你想在测试模式下测试本地修改, 你可以使用<code>docker-compose up</code>替换之前的命令,然后等待Superset节点容器构建完资源。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置docker-compose">配置Docker Compose<a class="hash-link" href="#配置docker-compose" title="标题的直接链接">​</a></h4><p>下面的的部分是为了想要在Docker Compose启动时配置Superset的准备的。如果你不想配置，你可以跳过下面的部分。</p><p>你可以使用<code>docker/.env</code>和<code>docker/.env-non-dev</code>分别的为Docker Compose配置开发模式和非开发模式。在Docker Compose配置中，这些环境变量文件为大多数的容器设置变量，其中一些变量影响多个容器，其他的只影响一个容器。一个重要的变量是<code>SUPERSET_LOAD_EXAMPLES</code>，它决定<code>superset_init</code>容器是否在数据库和Superset加载示例和可视化数据。这些示例对于大多数人是有用的，但是，对于有经验的用户可能是不需要的。加载过程有时会花费几分钟和大量的CUP，所以在一个资源紧张的设备上你可能希望禁用他。</p><p><strong>注意:</strong> 用户经常想要从Superset连接其他的数据库.当前,最容易的方式是修改<code>docker-compose-non-dev.yml</code>文件，然后添加你的数据库作为其他服务依赖的服务（通过<code>x-superset-depends-on</code>），其他人试图在Superset服务上设置<code>network_mode: host</code>，但是，这个安装通常会打断安装，因为对于这些服务来说，这个配置需要使用Docker Compose域名解析器。如果你对于这个你有好的解决方案，请告知我们！</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-登录到superset">4. 登录到Superset<a class="hash-link" href="#4-登录到superset" title="标题的直接链接">​</a></h3><p>你的本地Superset实例包括了一个存储数据的Postgres服务，它也预载了一些示例数据集。你能通过浏览器访问<code>http://localhost:8088</code>来进入Superset.当你的浏览器默认使用https,请确保使用http。</p><p>使用默认的用户名和密码登录</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">username: admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">password: admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-使用本地数据库实例连接superset">5. 使用本地数据库实例连接Superset<a class="hash-link" href="#5-使用本地数据库实例连接superset" title="标题的直接链接">​</a></h3><p>当使用<code>docker</code>或者<code>docker-compose</code>运行Superset，它运行在自己的docker容器时，它好像运行在一个独立的服务器中。因为<code>localhost</code>指向正在运行Superset的docker容器，而不是你实际的本地机器，所以，试图使用主机名<code>localhost</code>连接你的本地数据库将不会成功。幸运的是，docker提供一个简单的方式去连接网络资源，它能让我们从容器内部连接到本地机器，我们将充分利用这个能力去连接我们本地的数据库实例。</p><p>下面的将说明如何从Superset（它运行在docker容器中）连接postgresql（它运行在你的本地机器中）.
其他的数据库可能会有轻微不同的配置，但是要点是相同的，归结为下面两步</p><ol><li><strong>(Mac用户可以跳过这个步骤)</strong>配置本地的postgresql数据库允许公共连接。postgresql默认只允许从<code>localhost</code>连接，再说一次，对于本地机器和docker容器来说<code>localhosts</code>是不同的。对于postgresql,它只需要在<code>postgresql.conf</code>和<code>pg_hba.conf</code>修改一行，对于这个修改你可以在网站上找到针对你的操作系统和PG版本的有用链接。对于docker来说，将IP白名单从<code>172.0.0.0/8</code> 修改为 <code>*</code>就可以了,无论如何，你是被警告的去做这个，因为你把你的数据库对所以人开放了，在生产的数据库里可能会产生灾难性的后果。</li><li>当试图连接数据库是，使用<code>host.docker.internal</code> (Mac用户) or <code>172.18.0.1</code> (Linux用户)代替<code>localhost</code>作为作为主机名。这是docker内部细节：在Mac系统docker创建了一个叫<code>host.docker.internal</code>的域名解析器入口，它负责解析本地正确的地址。然而，在linux不是这样的（至少默认情况）。如果这两个主机名都不成功，你可能需要精确的主机名来使用，对此，可以使用<code>ifconfig</code>或者<code>ip addr show</code>，查看<code>docker0</code>接口的IP地址，这个接口是docker为你创建的。如果你没有看见<code>docker0</code>接口，请运行（如果它需要使用sudo）<code>docker network inspect bridge</code>，查看是否有一个网关入口，它标注了IP地址。</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/superset/tree/master/docs/docs/installation/installing-superset-using-docker-compose.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/superset-doc-zh/docs/intro"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">简介</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/superset-doc-zh/docs/installation/installing-superset-from-scratch"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Installing From Scratch</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#使用docker-compose安装本地安装superset" class="table-of-contents__link toc-highlight">使用Docker Compose安装本地安装Superset</a><ul><li><a href="#1-安装docker引擎和docker-compose" class="table-of-contents__link toc-highlight">1. 安装Docker引擎和Docker Compose</a></li><li><a href="#2-克隆superset的github仓库" class="table-of-contents__link toc-highlight">2. 克隆Superset的GitHub仓库</a></li><li><a href="#3-使用docker-compose启动superset" class="table-of-contents__link toc-highlight">3. 使用Docker Compose启动Superset</a></li><li><a href="#4-登录到superset" class="table-of-contents__link toc-highlight">4. 登录到Superset</a></li><li><a href="#5-使用本地数据库实例连接superset" class="table-of-contents__link toc-highlight">5. 使用本地数据库实例连接Superset</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022,
        The <a href="https://www.apache.org/" target="_blank" rel="noreferrer">Apache Software Foundation</a>,
        Licensed under the Apache <a href="https://apache.org/licenses/LICENSE-2.0" target="_blank" rel="noreferrer">License</a>. <br>
        <small>Apache Superset, Apache, Superset, the Superset logo, and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation. All other products or name brands are trademarks of their respective holders, including The Apache Software Foundation.
        <a href="https://www.apache.org/" target="_blank">Apache Software Foundation</a> resources</small><br>
        <small>
        <a href="https://www.apache.org/security/" target="_blank" rel="noreferrer">Security</a>&nbsp;|&nbsp;
        <a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noreferrer">Donate</a>&nbsp;|&nbsp;
        <a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noreferrer">Thanks</a>&nbsp;|&nbsp;
        <a href="https://apache.org/events/current-event" target="_blank" rel="noreferrer">Events</a>&nbsp;|&nbsp;
        <a href="https://apache.org/licenses/" target="_blank" rel="noreferrer">License</a>
        </small></div></div></div></footer></div>
<script src="/superset-doc-zh/assets/js/runtime~main.2e4e129b.js"></script>
<script src="/superset-doc-zh/assets/js/main.679cc3d0.js"></script>
</body>
</html>